<!DOCTYPE html>
<html lang="en">   
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Page | John Paul Tamares</title>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../assets/reportPageStyle.css">
    <link rel="stylesheet" href="../assets/thankYouPopUp.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
    <header> 
        <a href="#" class="logo">
            <img src="../assets/logowDAA.png" alt="Company Logo">
            DaangMatino 
        </a>
        <ul class="navbar">
            <li><a href="landingPage.html">Home</a></li>
            <li><a href="#help">Help</a></li>
            <li><a href="#guidelines">Guidelines</a></li>
        </ul>
        <div class="submitButton">
            <button type="button" onclick="showThankYouPopUp()">Submit Report</button>
        </div>
    </header>

    <div class="report-title">
        <h1>Report Road Issue</h1>
    </div>

    <form id="reportForm">
    <div class="form-sections">
        <div class="personal-info-wrapper">
            <div class="section-box">
                <h2 class="section-title">Personal Information</h2>

                <div class="field">
                    <label for="name">Name (Optional)</label>
                    <input type="text" id="name" name="owner_name">
                </div>

                <div class="field">
                    <label for="contact">Contact Information</label>
                    <input type="text" id="contact" name="owner_contact" required>
                </div>

                <div class="field">
                    <label for="road_name">Road Name</label>
                    <input type="text" id="road_name" name="road_name" required>
                </div>

                <div class="field">
                    <label for="address">Address</label>
                    <input type="text" id="address" name="address" required>
                </div>
            </div>
        </div>

    
        <div class="issue-details-wrapper">
            <div class="section-box">
                <h2 class="section-title">Issue Details</h2>

                <div class="form-card">

                    <div class="form-group">
                        <label for="issue-type">Type of Issue</label>
                        <select id="issue-type" name="issue_type" required>
                            <option value="">Select issue type</option>
                            <option value="pothole">Pothole</option>
                            <option value="damaged-sign">Damaged Sign</option>
                            <option value="construction">Construction Debris</option>
                            <option value="flooding">Road Flooding</option>
                            <option value="traffic-light">Traffic Light Malfunction</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="date-observed">Date Observed</label>
                        <input type="date" id="date-observed" name="date_observed" required>
                    </div>

                    <div class="form-group">
                        <label for="time-observed">Time Observed</label>
                        <input type="time" id="time-observed" name="time_observed" required>
                    </div>

                    <div class="form-group">
                        <label for="status">Severity Level</label>
                        <select id="status" name="severity_level" required>
                            <option value="">Select severity</option>
                            <option value="low">Low - Minor inconvenience</option>
                            <option value="medium">Medium - Moderate safety concern</option>
                            <option value="high">High - Immediate safety hazard</option>
                            <option value="critical">Critical - Emergency situation</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <div class="description">
                    <h2>Incident Description</h2>
                    <br>
                    <label for="incident_description">Describe the Road Issue in detail</label>
                    <input type="text" id="incident_description" name="incident_description">
        </div>

        <div class="upload-section">
         <label for="file-input" class="upload-label">
        <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
        <div class="upload-icon">
            <i class='bx bx-cloud-upload'></i>
        </div>
        <div class="upload-text">Upload Evidence Photos</div>
        <div class="upload-subtext">Click here or drag and drop images (Multiple files supported)</div>
    </label>
</div>
<div class="buttonContainer">

    <div class="cancelButton">
            <button type="button" onclick="cancelReport()">Cancel</button>
        </div>

    <div class="submitReportButton">
            <button type="button" onclick="showThankYouPopUp()">Submit</button>
        </div>

</div>
    </form>

    <div id="thankYouPopUp" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-content">
                <div class="success-icon">
                    <i class='bx bx-check-circle'></i>
                </div>
                <h2 class="modal-title">Thank You for Your Report!</h2>
                <p class="modal-message">Your road issue report has been successfully submitted. It will be reviewed by professionals and take appropriate action.</p>
                <div class="modal-details">
                    <p><strong>What happens next?</strong></p>
                    <ul>
                        <li>Lorem ipsum dolor sit amet.</li>
                        <li>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Officia, sed.</li>
                        <li>Lorem ipsum dolor sit amet consectetur adipisicing.</li>
                    </ul>
                </div>
                <div class="modal-buttons">
                    <button class="btn-primary" onclick="closeModalAndRedirect()">Go to Home</button>
                    <button class="btn-secondary" onclick="closeModalAndReset()">Submit Another Report</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showThankYouPopUp() {
            // Basic form validation
            const requiredFields = document.querySelectorAll('[required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    isValid = false;
                    field.style.borderColor = '#e74c3c';
                } else {
                    field.style.borderColor = '#bdc3c7';
                }
            });
            
            if (isValid) {
                document.getElementById('thankYouPopUp').style.display = 'flex';
                document.body.style.overflow = 'hidden';
            } else {
                alert('Please fill in all required fields.');
            }
        }
        
        function closeModalAndRedirect() {
            document.getElementById('thankYouPopUp').style.display = 'none';
            document.body.style.overflow = 'auto';
            // Redirect to home page
            window.location.href = 'landingPage.html';
        }
        
        function closeModalAndReset() {
            document.getElementById('thankYouPopUp').style.display = 'none';
            document.body.style.overflow = 'auto';
            // Reset the form
            document.getElementById('reportForm').reset();
        }
        
        function cancelReport() {
            if (confirm('Are you sure you want to cancel? All entered data will be lost.')) {
                document.getElementById('reportForm').reset();
                window.location.href = 'landingPage.html';
            }
        }
        
        // Close modal when clicking outside of it
        document.getElementById('thankYouPopUp').addEventListener('click', function(e) {
            if (e.target === this) {
                document.getElementById('thankYouPopUp').style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
    </script>
</body>
</html>